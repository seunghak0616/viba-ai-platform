# VIBA AI 프로젝트 통합 계획서 🔄

**작성일**: 2025.07.07  
**목적**: 중복된 구현들을 통합하여 단일 프로덕션 준비 시스템 구축

## 📊 현재 상황 분석

### 문제점
- **중복된 백엔드**: Node.js + Python FastAPI + 기본 Python 서버
- **중복된 프론트엔드**: `/frontend/` + `/nlp-engine/frontend-react/`
- **API 미스매치**: 서로 다른 인증 시스템 및 엔드포인트
- **파일 구조 분산**: 컴포넌트가 여러 디렉토리에 흩어짐

### 현재 완료된 기능 ✅
- 실시간 WebSocket 통신 구현
- UI 자동화 시스템 구축  
- 자동 데이터 생성기 구현
- AI 에이전트 백엔드 API 연동
- 파일 업로드 및 BIM 처리 시스템
- 사용자 인증 및 권한 관리 강화

## 🎯 통합 전략

### Phase 1: 아키텍처 통합 (우선순위: HIGH)

#### 1.1 백엔드 아키텍처 통합
**목표**: Node.js 메인 + Python AI 마이크로서비스 구조
- [ ] Node.js 백엔드를 메인 API 서버로 선택
- [ ] Python FastAPI를 AI 전용 마이크로서비스로 분리
- [ ] 서비스 간 HTTP/gRPC 통신 설정
- [ ] 기본 Python 서버 제거

#### 1.2 프론트엔드 통합  
**목표**: `/frontend/`를 메인으로 통합
- [ ] `/frontend/` 디렉토리를 메인 프론트엔드로 선택
- [ ] `/nlp-engine/frontend-react/`의 유용한 컴포넌트 이전
  - UserManagement 컴포넌트
  - AI 에이전트 인터페이스
  - 고급 인증 UI
- [ ] 중복 컴포넌트 제거 및 정리

### Phase 2: API 및 통신 계층 (우선순위: HIGH)

#### 2.1 API 게이트웨이 구축
- [ ] Node.js에서 Python AI 서비스로 라우팅 설정
- [ ] 통합 인증 미들웨어 구현
- [ ] API 버전 관리 및 문서화

#### 2.2 서비스 간 통신
- [ ] AI 에이전트 요청을 Python 서비스로 프록시
- [ ] 파일 처리 워크플로우 통합
- [ ] WebSocket 이벤트 동기화

### Phase 3: 데이터 계층 통합 (우선순위: MEDIUM)

#### 3.1 데이터베이스 스키마 통합
- [ ] 단일 데이터베이스 스키마 설계
- [ ] 사용자, 프로젝트, 파일 엔티티 통합
- [ ] 마이그레이션 스크립트 작성

#### 3.2 데이터 동기화
- [ ] Node.js와 Python 간 데이터 일관성 보장
- [ ] 캐싱 전략 수립 (Redis 활용)
- [ ] 데이터 백업 및 복구 시스템

### Phase 4: 정리 및 최적화 (우선순위: MEDIUM)

#### 4.1 중복 제거
- [ ] 중복 파일 및 컴포넌트 정리
- [ ] 사용하지 않는 의존성 제거
- [ ] 코드 리팩토링 및 표준화

#### 4.2 설정 표준화
- [ ] 환경변수 통합 관리
- [ ] Docker 다중 서비스 오케스트레이션
- [ ] 개발/프로덕션 환경 분리

### Phase 5: 테스트 및 배포 (우선순위: MEDIUM-LOW)

#### 5.1 통합 테스트
- [ ] E2E 테스트 스위트 통합
- [ ] API 통합 테스트
- [ ] 성능 테스트 및 최적화

#### 5.2 배포 파이프라인
- [ ] CI/CD 파이프라인 구축
- [ ] 자동화된 테스트 및 배포
- [ ] 모니터링 및 로깅 시스템

## 📋 상세 작업 목록

### 즉시 시작 (이번 세션)
1. **백엔드 아키텍처 통합** - Node.js 메인 + Python AI 마이크로서비스
2. **프론트엔드 통합** - /frontend/를 메인으로 컴포넌트 이전
3. **API 게이트웨이 구축** - 서비스 간 통신 설정

### 다음 세션
4. **데이터베이스 스키마 통합** - 단일 스키마 설계
5. **중복 파일 정리** - 불필요한 파일 제거
6. **환경변수 표준화** - 설정 파일 통합

### 향후 계획
7. **통합 테스트 스위트** - 전체 시스템 테스트
8. **Docker 오케스트레이션** - 다중 서비스 배포
9. **성능 모니터링** - 실시간 모니터링 시스템
10. **CI/CD 파이프라인** - 자동화된 배포

## 🔍 성공 지표

### 기술적 목표
- [ ] 단일 API 엔드포인트로 모든 기능 접근 가능
- [ ] 5초 이내 AI 응답 시간
- [ ] 99% 업타임 달성
- [ ] 모든 테스트 통과율 95% 이상

### 사용자 경험 목표
- [ ] 일관된 UI/UX 경험
- [ ] 실시간 협업 기능 정상 작동
- [ ] 파일 업로드 처리 시간 단축
- [ ] 모든 브라우저에서 정상 작동

## 📁 관련 파일 위치

- **이 계획서**: `/Users/seunghakwoo/Documents/Cursor/Z/INTEGRATION_PLAN.md`
- **프로젝트 맥락**: `/Users/seunghakwoo/Documents/Cursor/Z/PROJECT_CONTEXT.md`
- **메인 README**: `/Users/seunghakwoo/Documents/Cursor/Z/README.md`
- **할일 목록**: Claude Code 세션의 TodoList 기능 활용

## 🚨 주의사항

1. **백업 필수**: 주요 변경 전 현재 상태 백업
2. **점진적 통합**: 한 번에 모든 것을 변경하지 말고 단계적 진행
3. **테스트 우선**: 각 단계마다 기능 검증 필수
4. **문서화**: 모든 변경사항 기록 유지

---

**다음 액션**: 백엔드 아키텍처 통합부터 시작하여 Node.js와 Python 서비스 간 통신 설정